<div class="step-container">
  <div fxLayout="row" fxFill fxLayout.xs="column" fxLayoutGap="10px" fxLayoutAlign.xs="center center" fxLayoutWrap>
    <div fxFlex="50" fxFill>
      <table mat-table [dataSource]="sheetContents" class="mat-elevation-z1">
        <div *ngFor="let header of headers">
          <ng-container matColumnDef="{{header}}">
            <th mat-header-cell *matHeaderCellDef> {{header}} </th>
            <td mat-cell *matCellDef="let element"> {{element[header]}} </td>
          </ng-container>
        </div>
        <tr mat-header-row *matHeaderRowDef="headers"></tr>
        <tr mat-row *matRowDef="let row; columns: headers;" [ngClass]="{'highlight-table-row': selectedRow == row}"
          (click)="onClickRow(row)"></tr>
      </table>
    </div>
    <div fxFlex="50" fxFill>
      <div fxLayout="row" fxLayout.xs="column" fxLayoutGap="10px" fxLayoutAlign.xs="center center" fxLayoutWrap>
        <div fxFlex>
          <div *ngIf="!selectedRow">
            <p>
              Select a row
            </p>
          </div>
          <div *ngIf="selectedRow">
            Pick the correct attachment for <strong>{{selectedRow[attachmentSubjectHeaderName]}}</strong>:
            <br>
            <mat-radio-group class="attachment-candidate-list" [(ngModel)]="selectedAttachmentCandidate">
              <mat-radio-button class="attachment-candidate-list-item"
                *ngFor="let candidate of attachmentCandidatesForSelectedRow" value="{{candidate.id}}"
                (click)="onSelectCandidatePDF(candidate)">
                {{candidate.displayName}}
              </mat-radio-button>
            </mat-radio-group>
          </div>
        </div>
      </div>
      <div fxFill fxLayout="row" fxLayout.xs="column" fxLayoutGap="10px" fxLayoutAlign.xs="center center" fxLayoutWrap
        *ngIf="selectedAttachmentCandidate">
        <div fxFlex>
          <div class="pdf-btn-group">
            <button mat-raised-button>
              <i class="material-icons btn-icon">rotate_left</i>Rotate Left
            </button>
            <button mat-raised-button>
              <i class="material-icons btn-icon">rotate_right</i>Rotate Right
            </button>
            <button mat-raised-button color="primary">
              <i class="material-icons btn-icon">save</i>Save
            </button>
          </div>
          <br />
          <div *ngIf="selectedPDFViewerHTML" [innerHTML]="selectedPDFViewerHTML" class="embedded-pdf-viewer">
          </div>
        </div>
      </div>
    </div>
  </div>
</div>